services:
  admin.api:
    build:
      context: F:\Learning\ASP.NET Core\SkillTracker-Backend-master
      dockerfile: Admin/Admin.API/Dockerfile
    container_name: admin.api
    depends_on:
      rabbitmq:
        condition: service_started
    environment:
      ASPNETCORE_ENVIRONMENT: Development
    image: profileapi
    ports:
    - published: 8002
      target: 80
    restart: always
  dynamodb:
    command: -jar DynamoDBLocal.jar -sharedDb -dbPath ./data
    container_name: dynamodb-local
    environment:
      AWS_ACCESS_KEY_ID: foo
      AWS_SECRET_ACCESS_KEY: foo
    image: amazon/dynamodb-local:latest
    ports:
    - published: 8000
      target: 8000
    restart: always
    volumes:
    - F:\Learning\ASP.NET Core\SkillTracker-Backend-master\docker\dynamodb:/home/dynamodblocal/data:rw
    working_dir: /home/dynamodblocal
  memcached:
    container_name: memcached
    image: memcached:alpine
    ports:
    - published: 11211
      target: 11211
  profile.api:
    build:
      context: F:\Learning\ASP.NET Core\SkillTracker-Backend-master
      dockerfile: Profile/Profile.API/Dockerfile
    container_name: profile.api
    depends_on:
      dynamodb:
        condition: service_started
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      AWS_ACCESS_KEY_ID: foo
      AWS_SECRET_ACCESS_KEY: foo
      REGION: '''eu-west-1'''
    image: profileapi
    ports:
    - published: 8001
      target: 80
    restart: always
    volumes:
    - C:\Users\saikrishna385\AppData\Roaming\ASP.NET\Https:/root/.aspnet/https:ro
    - C:\Users\saikrishna385\AppData\Roaming\Microsoft\UserSecrets:/root/.microsoft/usersecrets:ro
  rabbitmq:
    container_name: rabbitmq
    image: rabbitmq:3-management-alpine
    ports:
    - published: 5672
      target: 5672
    - published: 15672
      target: 15672
    restart: always
version: '3.4'
volumes:
  esdata:
    driver: local